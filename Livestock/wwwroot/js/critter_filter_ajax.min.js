function getRadioGroupValue(n){var t="BUG";return n.forEach(function(n){if(n.checked){t=n.value;return}}),t==="ALL"&&(t=null),t==="BUG"&&alert("Dev error: value still has the 'BUG' value."),t}function updateDesignLayout(n,t,i,r,u,f,e){var c=t.selectedOptions[0].innerHTML,l=parseInt(t.selectedOptions[0].value),a=n.selectedOptions[0].innerHTML,v=parseInt(n.selectedOptions[0].value),h=getRadioGroupValue(i),o=getRadioGroupValue(r),s;if(o!==null&&(o=o==="true"),s=e+"-"+a+"-"+c+"-"+h+"-"+o,s in u){f.innerHTML=u[s];return}$.ajax({type:"POST",url:"/CritterEx/GetCrittersFiltered",contentType:"application/json",dataType:"html",data:JSON.stringify({BreedId:v,CritterTypeId:l,Design:e,Gender:h,CanReproduce:o})}).done(function(n){(n===null||n==="\n")&&(n='<div class="alert alert-info">No results found.<\/div>');f.innerHTML=n;u[s]=n})}function setBreedValues(n,t){t.unshift({value:-999,description:"All"});t.forEach(function(t){var i=document.createElement("option");i.innerHTML=t.description;i.value=t.value.toString();n.options.add(i)});n.dispatchEvent(new Event("change"))}function handleCritterFilter(n,t,i,r){var e=document.getElementById("design-card-horiz"),o=document.getElementById("design-card-vert"),s=document.getElementById("design-table"),u={},f={};t.addEventListener("change",function(){updateDesignLayout(t,n,i,r,u,e,"card-horiz");updateDesignLayout(t,n,i,r,u,o,"card-vert");updateDesignLayout(t,n,i,r,u,s,"table")});n.addEventListener("change",function(){var i=parseInt(n.selectedOptions[0].value),r;if(t.innerHTML="",n.selectedOptions[0].innerHTML=="All"){r=document.createElement("option");r.value="-999";t.options.add(r);t.dispatchEvent(new Event("change"));return}if(i.toString()in f){setBreedValues(t,f[i]);return}$.ajax({type:"POST",url:"/CritterEx/GetBreedList",contentType:"application/json",dataType:"json",data:JSON.stringify({CritterTypeId:i})}).done(function(n){setBreedValues(t,n);f[i]=n})});i.forEach(function(n){n.addEventListener("change",function(){t.dispatchEvent(new Event("change"))})});r.forEach(function(n){n.addEventListener("change",function(){t.dispatchEvent(new Event("change"))})})}
function updateDesignLayout(n,t,i,r,u,f){var s=t.selectedOptions[0].innerHTML,h=parseInt(t.selectedOptions[0].value),c=n.selectedOptions[0].innerHTML,l=parseInt(n.selectedOptions[0].value),e="BUG",o;if(i.forEach(function(n){if(n.checked){e=n.value;return}}),e==="ALL"&&(e=null),e==="BUG"&&alert("Dev error: genderValue still has the 'BUG' value."),o=f+"-"+c+"-"+s+"-"+e,o in r){u.innerHTML=r[o];return}$.ajax({type:"POST",url:"/CritterEx/GetCrittersFiltered",contentType:"application/json",dataType:"html",data:JSON.stringify({BreedId:l,CritterTypeId:h,Design:f,Gender:e})}).done(function(n){(n===null||n==="\n")&&(n='<div class="alert alert-info">No results found.<\/div>');u.innerHTML=n;r[o]=n})}function setBreedValues(n,t){t.unshift({value:-999,description:"All"});t.forEach(function(t){var i=document.createElement("option");i.innerHTML=t.description;i.value=t.value.toString();n.options.add(i)});n.dispatchEvent(new Event("change"))}function handleCritterFilter(n,t,i){var f=document.getElementById("design-card-horiz"),e=document.getElementById("design-card-vert"),o=document.getElementById("design-table"),r={},u={};t.addEventListener("change",function(){updateDesignLayout(t,n,i,r,f,"card-horiz");updateDesignLayout(t,n,i,r,e,"card-vert");updateDesignLayout(t,n,i,r,o,"table")});n.addEventListener("change",function(){var i=parseInt(n.selectedOptions[0].value),r;if(t.innerHTML="",n.selectedOptions[0].innerHTML=="All"){r=document.createElement("option");r.value="-999";t.options.add(r);t.dispatchEvent(new Event("change"));return}if(i.toString()in u){setBreedValues(t,u[i]);return}$.ajax({type:"POST",url:"/CritterEx/GetBreedList",contentType:"application/json",dataType:"json",data:JSON.stringify({CritterTypeId:i})}).done(function(n){setBreedValues(t,n);u[i]=n})});i.forEach(function(n){n.addEventListener("change",function(){t.dispatchEvent(new Event("change"))})})}
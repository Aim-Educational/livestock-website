function getRadioGroupValue(n){var t="BUG";return n.forEach(function(n){if(n.checked){t=n.value;return}}),t==="ALL"&&(t=null),t==="BUG"&&alert("Dev error: value still has the 'BUG' value."),t}function updateDesignLayout(n,t,i,r,u,f,e,o,s){var y=r.selectedOptions[0].innerHTML,p=parseInt(r.selectedOptions[0].value),w=i.selectedOptions[0].innerHTML,b=parseInt(i.selectedOptions[0].value),v=getRadioGroupValue(u),h=getRadioGroupValue(f),l=n.value,a=getRadioGroupValue(t)=="Name",c;if(h!==null&&(h=h==="true"),c=s+"-"+w+"-"+y+"-"+v+"-"+h+"-"+l+"-"+a,c in e){o.innerHTML=e[c];doLazyLoading();return}$.ajax({type:"POST",url:"/CritterEx/GetCrittersFiltered",contentType:"application/json",dataType:"html",data:JSON.stringify({BreedId:b,CritterTypeId:p,Design:s,Gender:v,CanReproduce:h,Name:a?l:null,Tag:a?null:l})}).done(function(n){(n===null||n==="\n")&&(n='<div class="alert alert-info">No results found.<\/div>');o.innerHTML=n;e[c]=n})}function setBreedValues(n,t){t.unshift({value:-999,description:"All"});t.forEach(function(t){var i=document.createElement("option");i.innerHTML=t.description;i.value=t.value.toString();n.options.add(i)});n.dispatchEvent(new Event("change"))}function handleCritterFilter(n,t,i,r,u,f){var s=document.getElementById("design-card-horiz"),h=document.getElementById("design-card-vert"),c=document.getElementById("design-table"),e={},o={};r.addEventListener("change",function(){updateDesignLayout(n,t,r,i,u,f,e,s,"card-horiz");updateDesignLayout(n,t,r,i,u,f,e,h,"card-vert");updateDesignLayout(n,t,r,i,u,f,e,c,"table")});i.addEventListener("change",function(){var n=parseInt(i.selectedOptions[0].value),t;if(r.innerHTML="",i.selectedOptions[0].innerHTML=="All"){t=document.createElement("option");t.value="-999";r.options.add(t);r.dispatchEvent(new Event("change"));return}if(n.toString()in o){setBreedValues(r,o[n]);return}$.ajax({type:"POST",url:"/CritterEx/GetBreedList",contentType:"application/json",dataType:"json",data:JSON.stringify({CritterTypeId:n})}).done(function(t){setBreedValues(r,t);o[n]=t})});u.forEach(function(n){n.addEventListener("change",function(){r.dispatchEvent(new Event("change"))})});f.forEach(function(n){n.addEventListener("change",function(){r.dispatchEvent(new Event("change"))})});t.forEach(function(n){n.addEventListener("change",function(){r.dispatchEvent(new Event("change"))})});n.addEventListener("change",function(){r.dispatchEvent(new Event("change"))})}
function updateDesignLayout(n,t,i,r,u){var e=t.selectedOptions[0].innerHTML,o=parseInt(t.selectedOptions[0].value),s=n.selectedOptions[0].innerHTML,h=parseInt(n.selectedOptions[0].value),f=u+s+"-"+e;if(f in i){r.innerHTML=i[f];return}$.ajax({type:"POST",url:"/CritterEx/GetCrittersFiltered",contentType:"application/json",dataType:"html",data:JSON.stringify({BreedId:h,CritterTypeId:o,Design:u})}).done(function(n){r.innerHTML=n;i[f]=n})}function setBreedValues(n,t){t.push({value:-999,description:"All"});t.forEach(function(t){var i=document.createElement("option");i.innerHTML=t.description;i.value=t.value.toString();n.options.add(i)});var i=n.options[0];n.options[0]=n.options[n.length-1];n.options[n.length-1]=i;n.selectedIndex=0;n.dispatchEvent(new Event("change"))}function handleCritterFilter(n,t){var u=document.getElementById("design-card-horiz"),f=document.getElementById("design-card-vert"),e=document.getElementById("design-table"),i={},r={};t.addEventListener("change",function(){updateDesignLayout(t,n,i,u,"card-horiz");updateDesignLayout(t,n,i,f,"card-vert");updateDesignLayout(t,n,i,e,"table")});n.addEventListener("change",function(){var i=parseInt(n.selectedOptions[0].value),u;if(t.innerHTML="",n.selectedOptions[0].innerHTML=="All"){u=document.createElement("option");u.value="-999";t.options.add(u);t.dispatchEvent(new Event("change"));return}if(i.toString()in r){setBreedValues(t,r[i]);return}$.ajax({type:"POST",url:"/CritterEx/GetBreedList",contentType:"application/json",dataType:"json",data:JSON.stringify({CritterTypeId:i})}).done(function(n){setBreedValues(t,n);r[i]=n})})}